// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙÙˆØ³ÙŠØª
const claimAmount = 0.0001; // ÙƒÙ…ÙŠØ© Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ù…Ù†ÙˆØ­Ø© Ù„ÙƒÙ„ Ù…Ø·Ø§Ù„Ø¨Ø©
const claimInterval = 3600; // ÙØªØ±Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ (Ø³Ø§Ø¹Ø©)

// ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± ÙˆÙ‚Øª Ù…Ø·Ø§Ù„Ø¨Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
function getLastClaimTime() {
  return localStorage.getItem('lastClaimTime') || 0;
}
// Ø­ÙØ¸ ÙˆÙ‚Øª Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ
function setLastClaimTime(time) {
  localStorage.setItem('lastClaimTime', time);
}
// Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ
function getTimeRemaining() {
  const lastClaim = parseInt(getLastClaimTime());
  const now = Math.floor(Date.now() / 1000);
  const diff = claimInterval - (now - lastClaim);
  return diff > 0 ? diff : 0;
}
// ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
function updateUI() {
  const button = document.getElementById('claimButton');
  const message = document.getElementById('message');
  const balanceElem = document.getElementById('balance');

  let balance = parseFloat(localStorage.getItem('balance')) || 0;
  balanceElem.textContent = balance.toFixed(6);

  const timeRemaining = getTimeRemaining();
  if (timeRemaining > 0) {
    button.disabled = true;
    message.textContent = `Ø¹Ù„ÙŠÙƒ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ${timeRemaining
    } Ø«Ø§Ù†ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.`;
  } else {
    button.disabled = false;
    message.textContent = 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ø§Ù„Ø¢Ù†!';
  }
}
// Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø©
function claim() {
  if (getTimeRemaining() === 0) {
    let balance = parseFloat(localStorage.getItem('balance')) || 0;
    balance += claimAmount;
    localStorage.setItem('balance', balance);
    setLastClaimTime(Math.floor(Date.now() / 1000));
    alert(`ØªÙ… Ù…Ù†Ø­Ùƒ <span class="math-inline" data-latex="%7BclaimAmount%7D%20%D8%B9%D9%85%D9%84%D8%A9!%20%D8%B1%D8%B5%D9%8A%D8%AF%D9%83%20%D8%A7%D9%84%D8%A2%D9%86%3A">{claimAmount
    } Ø¹Ù…Ù„Ø©! Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø¢Ù†:</span>{balance.toFixed(6)
    }`);
    updateUI();
  } else {
    alert('Ø¹Ù„ÙŠÙƒ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
  }
}
// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
window.onload = function() {
  updateUI();
  document.getElementById('claimButton').addEventListener('click', claim);

  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©
  setInterval(updateUI,
  1000);
};
{
  // Place your snippets for javascript here. Each snippet is defined under a snippet name and has a prefix, body and 
  // description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:
  // $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the 
  // same ids are connected.
  // Example:
  // "Print to console": {
  // 	"prefix": "log",
  // 	"body": [
  // 		"console.log('$1');",
  // 		"$2"
  // 	],
  // 	"description": "Log output to console"
  // }
}
const wheel = document.getElementById("wheel");
const resultDisplay = document.getElementById("result");

function spin() {
  resultDisplay.textContent = ""; // ÙŠÙ…Ø³Ø­ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
  const randomDegree = Math.random() * 360 + 3600; // ÙŠØ¯ÙˆÙ‘Ø± Ø¨Ø´ÙƒÙ„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ø¹ Ù„ÙØ§Øª ÙƒØ«ÙŠØ±Ø©
  wheel.style.transition = "transform 4s ease-out"; // Ù…Ø¯Ø© ÙˆØ³Ø±Ø¹Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
  wheel.style.transform = `rotate(${randomDegree
  }deg)`; // ÙŠØ¯ÙˆÙ‘Ø± Ø§Ù„Ø¹Ø¬Ù„Ø©

  setTimeout(() => {
    const actualDegree = randomDegree % 360;
    const segmentSize = 360 / prizes.length;
    const index = Math.floor((360 - actualDegree) / segmentSize) % prizes.length;
    resultDisplay.textContent = "ðŸŽ‰ Ø­ØµÙ„Øª Ø¹Ù„Ù‰: " + prizes[index
    ]; // ÙŠÙƒØªØ¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  },
  4000); // Ù†ÙØ³ Ù…Ø¯Ø© Ø§Ù„ØªØ­Ø±ÙŠÙƒ Ø­ØªÙ‰ ØªØ·Ù„Ø¹ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªÙˆÙ‚Ù
}
// Ø®Ù€Ù„Ø§ÙŠØ§ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù„ÙŠ ÙÙŠ Ø§Ù„Ø¹Ø¬Ù„Ø©
const prizes = [
  "DOGE 1000 Ù†Ù‚Ø§Ø·",
  "DOGE 15000 Ù†Ù‚Ø§Ø·",
  "DOGE 20000 Ù†Ù‚Ø§Ø·",
  "DOGE 1000 Ù†Ù‚Ø§Ø·",
  "DOGE 15000 Ù†Ù‚Ø§Ø·",
  "DOGE 20000 Ù†Ù‚Ø§Ø·"
];

// Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù„ÙŠ ÙÙŠÙ‡ Ø§Ù„Ø¹Ø¬Ù„Ø©
const wheel = document.getElementById("wheel");
// Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù„ÙŠ Ø¨ÙŠØ¸Ù‡Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©
const resultDisplay = document.getElementById("result");
// Ø²Ø± Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
const spinButton = document.getElementById("spinButton");

// Ù„Ù…Ø§ ØªØ¯ÙˆØ³ Ø§Ù„Ø²Ø±
spinButton.addEventListener("click", function() {
  // Ù†Ù…Ù†Ø¹ Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù…ØªÙƒØ±Ø± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
  spinButton.disabled = true;

  // Ù†Ø®ØªØ§Ø± Ø²Ø§ÙˆÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© + Ù„ÙØ§Øª (Ù„Ù‡ ØªØ£Ø«ÙŠØ± Ø­Ø±ÙƒØ© Ø­Ù‚ÙŠÙ‚ÙŠØ©)
  const randomDegree = Math.random() * 360 + 3600; // 10 Ù„ÙØ§Øª ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§
  wheel.style.transition = "transform 4s ease-out"; // Ù…Ø¯Ø© Ø§Ù„Ø¯ÙˆØ±Ø§Ù†
  wheel.style.transform = `rotate(${randomDegree
  }deg)`; // Ù†Ø¯ÙˆÙ‘Ø± Ø§Ù„Ø¹Ø¬Ù„Ø©

  // Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ±Ø§Ù† Ù†Ø­Ø³Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  setTimeout(() => {
    const actual = randomDegree % 360;
    const segmentSize = 360 / prizes.length;
    const index = Math.floor((360 - actual) / segmentSize) % prizes.length;

    resultDisplay.textContent = "ðŸŽ‰ Ø­ØµÙ„Øª Ø¹Ù„Ù‰: " + prizes[index
    ];
    spinButton.disabled = false; // Ù†ÙØ¹Ù‘Ù„ Ø§Ù„Ø²Ø± ØªØ§Ù†ÙŠ
  },
  4000); // Ù†ÙØ³ Ù…Ø¯Ø© Ø§Ù„ØªØ­Ø±ÙŠÙƒ (4s)
});
 
// Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø©
const { API
} = require("faucetpayjs");

// Ø¶Ø¹ Ù…ÙØªØ§Ø­ Ø§Ù„Ù€ API Ø§Ù„Ù„ÙŠ Ø­ØµÙ„Øª Ø¹Ù„ÙŠÙ‡ Ù…Ù† Ø­Ø³Ø§Ø¨ FaucetPay
const faucetPay = new API("YOUR_FAUCETPAY_API_KEY");

// Ù…Ø«Ø§Ù„: Ø¬Ù„Ø¨ Ø±ØµÙŠØ¯ Ø­Ø³Ø§Ø¨ FaucetPay
async function getBalance() {
  const res = await faucetPay.getBalance("DOGE"); // Ø¹Ù…Ù„Ø© DOGE
  console.log("Balance:", res);
}
// Ù…Ø«Ø§Ù„: Ø¥Ø±Ø³Ø§Ù„ Ù†Ù‚Ø§Ø· DOGE Ù„Ù…Ø³ØªØ®Ø¯Ù…
async function sendDOGE(toAddress, amount) {
  try {
    const res = await faucetPay.send(
      amount, // Ø§Ù„ÙƒÙ…ÙŠØ© Ø¨Ø§Ù„ÙˆØ­Ø¯Ø§Øª (Ù…Ø«Ù„Ø§Ù‹ "100000" = 100000 Ø³Ø§ØªÙˆØ´ÙŠ)
      toAddress, // Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„ÙÙˆØ³ØªØ§ÙŠØ± Ù„Ù„Ù…Ø³ØªÙ„Ù…
    "DOGE" // Ø§Ù„Ø¹Ù…Ù„Ø©
    );
    console.log("Send result:", res);
  } catch (err) {
    console.error("Error sending:", err);
  }
}
// Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„ØªÙŠÙ† ÙƒÙ…Ø«Ø§Ù„
getBalance(); // ÙŠØ´ÙˆÙ Ø±ØµÙŠØ¯Ùƒ ÙÙŠ FaucetPay
sendDOGE("TARGET_ADDRESS_OR_EMAIL",
100000); // ÙŠØ±Ø³Ù„ 100000 Ø³Ø§ØªÙˆØ´ÙŠ DOGE



// 1. Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø©
const { API
} = require("faucetpayjs");

// 2. Ø§Ø¶Ù API Key Ø§Ù„Ø®Ø§Øµ Ø¨Ø­Ø³Ø§Ø¨Ùƒ ÙÙŠ FaucetPay
const faucetPay = new API("YOUR_FAUCETPAY_API_KEY");

// 3. Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ DOGE Ù„Ù€ FaucetPay
async function sendDOGEtoFaucetPay(emailOrAddress, amount) {
  try {
    // amount ØªÙƒÙˆÙ† Ø¨Ø§Ù„Ù€ satoshi â€” Ù…Ø«Ø§Ù„ 1000 satoshi
    const response = await faucetPay.send(amount, emailOrAddress,
    "DOGE");
    console.log("ðŸ“¤ Ø¥Ø±Ø³Ø§Ù„ ØªÙ…:", response);
    return response;
  } catch (err) {
    console.error("ðŸ’¥ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:", err);
    throw err;
  }
}
// Ù…Ø«Ø§Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø©
// emailOrAddress: Ù…Ù…ÙƒÙ† ÙŠÙƒÙˆÙ† Ø§Ù„Ø§ÙŠÙ…ÙŠÙ„ Ø§Ù„Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¯Ø®Ù‘Ù„Ù‡ ÙÙŠ Ù…ÙˆÙ‚Ø¹Ùƒ
// amount: Ø¹Ø¯Ø¯ satoshi (Ù…Ø«Ù„Ø§Ù‹ 1000)
sendDOGEtoFaucetPay("user@example.com",
1000)
  .then(r => console.log("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­"))
  .catch(e => console.error("ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"));





// backend/index.js
const express = require("express");
const { API
} = require("faucetpayjs"); // Ù…ÙƒØªØ¨Ø© API Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù€ FaucetPay
const bodyParser = require("body-parser");

const app = express();
app.use(bodyParser.json());

// Ø¶Ø¹ Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Ù„ÙˆØ­Ø© FaucetPay
const faucetpay = new API("YOUR_FAUCETPAY_API_KEY");

// Ù†Ù‚Ø·Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„ÙŠ ÙŠØ³ØªØ¯Ø¹ÙŠÙ‡Ø§ Ø§Ù„Ù€ frontend
app.post("/api/send-faucetpay", async (req, res) => {
    try {
        const { email, reward
    } = req.body;
        if (!email || !reward) {
            return res.json({ message: "Ø§Ø¯Ø®Ù„ Ø§ÙŠÙ…ÙŠÙ„ ÙˆÙƒÙ…ÙŠØ© Ù†Ù‚Ø§Ø· ØµØ­ÙŠØ­Ø©"
      });
    }
    // amount ØªÙƒÙˆÙ† Ø¨Ø§Ù„Ù€ satoshi (1000 Ù†Ù‚Ø·Ø© = 1000 satoshi)
        const response = await faucetpay.send(reward, email,
    "DOGE");

        if (response.status === 200) {
            res.json({ message: "ðŸŽ‰ ØªÙ… Ø§Ø±Ø³Ø§Ù„ " + reward + " DOGE Ø¥Ù„Ù‰ " + email
      });
    } else {
            res.json({ message: "ðŸš« ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: " + response.message
      });
    }
  } catch (error) {
        res.json({ message: "ðŸ’¥ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…"
    });
  }
});

// Ø´ØºÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ Ø¨ÙˆØ±Øª 3000
app.listen(3000, () => console.log("Server running on http://localhost:3000"));

